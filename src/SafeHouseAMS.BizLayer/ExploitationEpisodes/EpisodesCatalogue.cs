using System;
using System.Threading;
using System.Threading.Tasks;
using SafeHouseAMS.BizLayer.ExploitationEpisodes.Commands;

namespace SafeHouseAMS.BizLayer.ExploitationEpisodes
{
    internal class EpisodesCatalogue : IEpisodesCatalogue
    {
        private readonly IEpisodesRepository _repository;

        public EpisodesCatalogue(IEpisodesRepository repository)
        {
            _repository = repository;
        }

        /// <inheritdoc />
        public Task<Episode?> GetSingleAsync(Guid id, CancellationToken cancellationToken) =>
            _repository.GetSingleAsync(id, cancellationToken);

        /// <inheritdoc />
        public Task ApplyCommand(EpisodeCommand command, CancellationToken cancellationToken) =>
            command.ApplyOn(_repository);
    }
}
